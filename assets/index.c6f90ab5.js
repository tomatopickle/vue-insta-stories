import{d as e,h as t,o as n,c as i,a as r,b as s,t as o,p as a,e as u,r as d,f as l,w as c,g as h,m as p,i as m}from"./vendor.0a7eee26.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var f=function(){return(f=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function y(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(t){s(t)}}function a(e){try{u(i.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))}function v(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var g=function(e,n,i){void 0===n&&(n={});var r=n.props,s=n.domProps,o=n.on,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(n,["props","domProps","on"]),u=function(e){return e?Object.entries(e).reduce((function(e,t){var n,i=t[0],r=t[1];return i="on"+(i=i.charAt(0).toUpperCase()+i.slice(1)),f(f({},e),((n={})[i]=r,n))}),{}):null}(o),d=f(f(f(f({},a),r),s),u);return t(e,d,i)},b=function(e,t){return"function"==typeof e?e(t):e},x=e({props:{story:{type:Object,required:!0}},render:function(){var e={style:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},domProps:{src:this.story.url}};return g("img",e)}}),w=e({props:{story:{type:Object,required:!0},isPaused:{type:Boolean,required:!0}},watch:{isPaused:function(e){e?this.vid.pause():this.vid.play()}},data:function(){return{muted:!1}},computed:{vid:function(){return this.$el}},render:function(){var e=this,t={controls:!0,autoPlay:!0,playsInline:!0,muted:this.muted,"webkit-playsinline":!0};this.$emit("action","pause");var n={style:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},domProps:f({src:this.story.url},t),on:{loadeddata:function(){return y(e,void 0,void 0,(function(){var e=this;return v(this,(function(t){switch(t.label){case 0:this.$emit("action","duration",1e3*this.vid.duration),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.vid.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),this.muted=!0,this.$nextTick((function(){return y(e,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.vid.play()];case 1:return[2,e.sent()]}}))}))})),[3,4];case 4:return[2]}}))}))},playing:function(){e.$emit("action","play")}}};return g("video",n)}}),S=function(e,t){var n=e.story,i={props:{story:n,isPaused:e.isPaused},on:{action:e.onAction}},r=n.type,s=n.template;if(s){var o=t[s];if(!o)throw new Error("unable to find the template '"+s+"'");return b(o,i)}return g(function(e){switch(e){case"image":return x;case"video":return w;default:throw new Error("Did not find a render for type "+e)}}(r),i)};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".vue-insta-stories {\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  background: #111;\n}\n\n.vue-insta-stories-full {\n  position: absolute;\n  height: 100vh;\n  height: -webkit-fill-available;\n  width: 100vw;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n\n.vue-insta-stories-page {\n position: relative;\n height: 730px default;\n width: 420px default;\n}\n\n.vue-insta-stories .header {\n  position: absolute;\n  z-index: 10;\n  top: 22px;\n  left: 16px;\n}\n\n.vue-insta-stories .timeline {\n  position: absolute;\n  display: flex;\n  flex-grow: 0;\n  width: 100%;\n  background: -webkit-gradient(\n    linear,\n    top,\n    bottom,\n    from(rgba(0, 0, 0, 0.2)),\n    to(rgba(0, 0, 0, 0))\n  );\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0));\n  padding-bottom: 8px; /* To add more space for gradient */\n  z-index: 10;\n}\n\n.vue-insta-stories .timeline > .slice {\n  background: rgba(255, 255, 255, 0.5);\n  height: 2px;\n  border-radius: 2px;\n  margin: 6px 3px;\n  width: 100%;\n}\n\n.vue-insta-stories .timeline > .slice > .progress {\n  background: #fff;\n  height: 2px;\n  border-radius: 2px;\n  width: 0%;\n}\n\n.see-more-wrapper {\n  flex-grow: 1;\n  display: flex;\n  position: relative;\n}\n\n.see-more-wrapper .see-more {\n  position: absolute;\n  height: 10vh;\n  flex-direction: column;\n  width: 100%;\n  background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2));\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  bottom: 0;\n  z-index: 10;\n}\n\n.see-more-wrapper .see-more-text, .see-more-wrapper .see-more-icon {\n  color: white;\n  letter-spacing: 0.1em;\n  font-weight: bold;\n  font-size: 1rem;\n  transition: opacity 300ms ease-in-out;\n}\n.see-more-wrapper .see-more-text {\n  letter-spacing: 0.1em;\n  margin-bottom: 2.2vh;\n}");var P=e({props:{progress:{type:Number,required:!0}},render:function(){var e={width:this.progress+"%"};return g("div",{class:"slice"},[g("div",{class:"progress",style:e})])}}),I=e({props:{stories:{type:Array,required:!0},currentIndex:{type:Number,required:!0},isPaused:{type:Boolean,required:!0}},data:function(){return{count:0,startTime:0,savedTimeStamp:0,deltaPaused:0,lastPaused:0,animFrameId:-1}},watch:{currentIndex:function(){this.count=0,this.storyStart(),this.startTime=0,this.deltaPaused=0,cancelAnimationFrame(this.animFrameId),this.animFrameId=requestAnimationFrame(this.incrementCount)},isPaused:{immediate:!0,handler:function(e){cancelAnimationFrame(this.animFrameId),e?this.lastPaused=performance.now():(this.lastPaused&&(this.deltaPaused+=performance.now()-this.lastPaused),this.animFrameId=requestAnimationFrame(this.incrementCount))}}},computed:{currentStory:function(){return this.stories[this.currentIndex]}},emits:["storyStart","storyEnd","allStoriesEnd"],methods:{storyStart:function(){this.$emit("storyStart",this.currentIndex)},storyEnd:function(){this.$emit("storyEnd",this.currentIndex)},allStoriesEnd:function(){this.$emit("allStoriesEnd",this.currentIndex)},incrementCount:function(e){this.startTime||(this.startTime=e);var t=e-this.startTime-this.deltaPaused;this.count=t/this.currentStory.duration*100,this.count<100?this.animFrameId=requestAnimationFrame(this.incrementCount):(this.storyEnd(),this.currentIndex==this.stories.length-1&&this.allStoriesEnd(),cancelAnimationFrame(this.animFrameId))}},render:function(){var e=this.currentIndex,t=this.count,n=this.stories.map((function(n,i){return g(P,{key:i,props:{progress:i==e?t:i<e?100:0}})}));return g("div",{class:"timeline",ref:"timeline"},n)}}),E=e({name:"WithSeeMore",props:{enabled:{type:Boolean,default:!0},label:{type:String,required:!1}},data:function(){return{opacity:0,yDown:void 0}},methods:{emit:function(){this.$emit("action")}},mounted:function(){this.opacity=.9},render:function(){var e=this,t=function(t){var n;if(t.stopPropagation(),t instanceof TouchEvent){var i=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];e.yDown=i.clientY}},n=function(t){t.stopPropagation(),e.emit()},i={mouseup:n,touchend:n,touchstart:t,mousedown:t,touchmove:function(t){var n;if(t.stopPropagation(),e.yDown){var i=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];e.yDown-i.clientY>0&&e.emit(),e.yDown=void 0}}},r={opacity:this.opacity},s=this.label||"See more",o=g("div",{class:"see-more",on:i},[g("span",{class:"see-more-icon",style:r},"^"),g("span",{class:"see-more-text",style:r},s)]);return g("div",{class:"see-more-wrapper"},[b(this.$slots.default),o])}}),$=function(e,t,n){if(!t)return e;var i={default:function(){return e}},r=!0===t?void 0:t.label;return g(E,{props:{label:r},on:{action:n}},i)},k=function(e){e.animate([{opacity:0}],{duration:200,fill:"forwards"})},T=function(e){e.animate([{opacity:1}],{duration:200,fill:"forwards"})},O=e({name:"Stories",props:{stories:{type:Array,required:!0},interval:{type:Number,default:2e3},currentIndex:{type:Number,default:0},isPaused:{type:Boolean,required:!1},loop:{type:Boolean,default:!1,required:!1}},emits:["storyStart","storyEnd","allStoriesEnd","update:currentIndex","update:isPaused","seeMore"],watch:{currentIndex:function(e){this.index=e},isPaused:{immediate:!0,handler:function(e){this.paused=e}},paused:function(e){e?this.pause():this.play(),this.$emit("update:isPaused",e)},stories:{immediate:!0,handler:function(e){var t=this;this.items=e.map((function(e){var n={duration:t.interval,type:"image"};return f(f({},n),"string"==typeof e?{url:e}:e)}))}}},data:function(){return{index:this.currentIndex,paused:!1,mouseDownTimeout:void 0,items:[]}},methods:{nextSlide:function(){this.index<this.stories.length-1?this.index++:this.loop&&(this.index=0)},previousSlide:function(){this.index>0?this.index--:this.loop&&(this.index=this.stories.length)},togglePause:function(){this.paused=!this.paused},pause:function(){k(this.$refs.timeline.$el),this.$refs.header&&k(this.$refs.header)},play:function(){T(this.$refs.timeline.$el),this.$refs.header&&T(this.$refs.header)},storyStart:function(e){this.$emit("storyStart",e),this.$emit("update:currentIndex",e)},storyEnd:function(e){this.nextSlide(),this.$emit("storyEnd",e)},allStoriesEnd:function(){this.loop?this.index=0:this.$emit("allStoriesEnd")}},render:function(){var e=this,t=this.items[this.index],n={props:{stories:this.items,currentIndex:this.index,isPaused:this.paused},on:{storyStart:this.storyStart,storyEnd:this.storyEnd,allStoriesEnd:this.allStoriesEnd}},i=function(t){t.preventDefault(),e.mouseDownTimeout=setTimeout((function(){return e.togglePause()}),150)},r=function(t){(t.preventDefault(),e.mouseDownTimeout&&clearTimeout(e.mouseDownTimeout),e.paused)?e.paused=!1:function(e){var t;return e instanceof MouseEvent?e.offsetX:(null!==(t=e.touches[0])&&void 0!==t?t:e.changedTouches[0]).clientX}(t)>e.$refs.stories.getBoundingClientRect().width/3?e.nextSlide():e.previousSlide()},s={touchstart:i,touchend:r,mousedown:i,mouseup:r},o={story:t,onAction:function(t,n){switch(t){case"play":case"pause":break;case"duration":var i=n;e.items[e.index].duration=i;break;default:console.log(t,n)}},isPaused:this.paused},a=this.$slots.header,u=S(o,this.$slots);return g("div",{ref:"stories",class:"vue-insta-stories",on:s},[g(I,f({ref:"timeline"},n)),a?g("div",{class:"header",ref:"header"},b(a,{story:t})):null,$(u,t.seeMore,(function(){e.paused=!0,e.$emit("seeMore",t)}))])}});const j={},q={class:"bg-green-500 text-lg text-white p-4 pt-20"},A=[r('<h1 class="text-5xl font-semibold">vue insta stories</h1><p class="mt-4">Renders vue components right into your stories.</p><p class="mt-4">Possibilities are endless, here is an image!</p><div class="mt-4 rounded-1"><img class="rounded-lg" src="https://picsum.photos/350/200/"></div><p class="mt-4">Or here, a text input!</p><div style="width:280px;" class="mt-4 text-center bg-gray-900 p-4 rounded-lg flex flex-col"><h1 class="text-lg font-semibold">Ask me anything!</h1><input placeholder="Type something... " class="mt-4 text-center bg-gray-800 p-4 rounded-lg"></div>',6)];j.render=function(e,t){return n(),i("div",q,A)};const M={name:"Story Header",props:{label:{type:String,default:"uneven"}}},D={class:"flex items-center"},F=s("div",{class:"\n        h-8\n        w-8\n        rounded-1\n        bg-white\n        text-xl\n        flex\n        justify-center\n        items-center\n        shadow-sm\n      "}," 💎 ",-1),C={class:"font-bold text-white ml-2"};M.render=function(e,t,r,a,u,d){return n(),i("div",D,[F,s("div",C,o(r.label),1)])};const N=e({components:{Stories:O,IntroSlide:j,StoryHeader:M},data:()=>({showStories:!0,options:{interval:3e4,currentIndex:0},currentIndex:3,stories:[{template:"intro"},"https://picsum.photos/350/200/",{url:"https://file-examples-com.github.io/uploads/2017/04/file_example_MP4_480_1_5MG.mp4",type:"video",seeMore:{url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}},"https://picsum.photos/400/201/",{url:"https://picsum.photos/350/202/",header:{label:"UnevenSoftware"},seeMore:{label:"Give us a star 🤍",url:"https://github.com/UnevenSoftware/vue-insta-stories"}}]}),watch:{currentIndex(e){console.log("watchapp",e)}},methods:{open(e){const{url:t}=e.seeMore;window.open(t),console.log("Watch whateve",t)}},mounted(){}});a("data-v-c4ceb0dc");const B={class:"\n      container\n      py-20\n      flex flex-col\n      md:flex-row\n      justify-center\n      mx-auto\n      h-100vh\n      items-center\n      p-5\n    "},_=r('<div class="flex flex-col justify-center mb-20 md:mr-20 md:mb-0" data-v-c4ceb0dc><a class="text-5xl font-semibold underline" href="https://github.com/UnevenSoftware/vue-insta-stories" data-v-c4ceb0dc> vue-insta-stories</a><p class="mt-4" data-v-c4ceb0dc>Instagram stories in your vue projects.</p><div class="bg-gray-200 p-3 mt-4 rounded-lg" data-v-c4ceb0dc> yarn add vue-insta-stories </div><a class="mt-4 underline" href="https://github.com/UnevenSoftware/vue-insta-stories/tree/main/packages/lib#readme" data-v-c4ceb0dc> Documentation →</a><div class="mt-5" data-v-c4ceb0dc> Made with 🖤 by <a href="https://github.com/dnldsht" data-v-c4ceb0dc>@dnldsht</a> &amp; <a href="https://github.com/gilnd" data-v-c4ceb0dc>@gilnd</a></div></div>',1),z={class:"md:h-730px md:w-420px flex justify-center items-center"};u(),N.render=function(e,t,r,o,a,u){const m=d("story-header"),f=d("intro-slide"),y=d("Stories");return n(),i("div",B,[_,s("div",z,[e.showStories?(n(),l(y,{key:0,onAllStoriesEnd:t[0]||(t[0]=t=>e.showStories=!1),onSeeMore:e.open,class:"\n          absolute\n          top-0\n          h-fill\n          w-100vw\n          md:h-730px\n          md:w-420px\n          md:relative\n          shadow-lg\n        ",interval:3e3,stories:e.stories,loop:!0},{header:c((({story:e})=>[h(m,{label:e.header?e.header.label:"uneven"},null,8,["label"])])),intro:c((e=>[h(f,p(e,{class:"flex-grow"}),null,16)])),_:1},8,["onSeeMore","stories"])):(n(),i("button",{key:1,onClick:t[1]||(t[1]=t=>e.showStories=!0),class:"underline"}," Start over! "))])])},N.__scopeId="data-v-c4ceb0dc",m(N).mount("#app");
